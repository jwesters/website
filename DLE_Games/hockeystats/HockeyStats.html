<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hockey Stats Higher or Lower</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    text-align: center;
    padding: 30px;
  }
  .card {
    background: white;
    padding: 25px;
    max-width: 500px;
    margin: auto;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  button {
    padding: 12px 25px;
    margin: 10px;
    font-size: 16px;
    cursor: pointer;
  }
  .hidden { display: none; }
  .score { font-weight: bold; margin-top: 15px; }
</style>
</head>
<body>

<div class="card" id="game">
  <h2>üèí Hockey Stats Higher or Lower</h2>

  <p><strong id="playerA"></strong></p>
  <p><span id="statA"></span></p>

  <hr>

  <p id="question"></p>

  <button onclick="guess('higher')">‚¨ÜÔ∏è More</button>
  <button onclick="guess('lower')">‚¨áÔ∏è Fewer</button>

  <p class="score">Streak: <span id="score">0</span></p>
</div>

<div class="card hidden" id="endScreen">
  <h2>Game Over</h2>
  <p><strong>Final Streak:</strong> <span id="finalScore"></span></p>
  <p id="reveal"></p>
</div>

<script src="players150.js"></script>
<script>
// ---------------- STATS ----------------
const statOptions = [
  { key:"goals", label:"Goals" },
  { key:"assists", label:"Assists" },
  { key:"points", label:"Points" },
  { key:"pim", label:"Penalty Minutes" }
];

// ---------------- GAME STATE ----------------
let score = 0;
let playerA, playerB, currentStat;

function randomPlayer(exclude) {
  let p;
  do {
    p = players[Math.floor(Math.random() * players.length)];
  } while (p === exclude);
  return p;
}

function newRound(carryPlayer = null) {
  playerA = carryPlayer || randomPlayer();
  playerB = randomPlayer(playerA);
  currentStat = statOptions[Math.floor(Math.random() * statOptions.length)];

  document.getElementById("playerA").textContent = playerA.name;
  document.getElementById("statA").textContent =
    `${currentStat.label}: ${playerA[currentStat.key]}`;

  document.getElementById("question").innerHTML =
    `Does <strong>${playerB.name}</strong> have more or fewer
     <strong>${currentStat.label}</strong>?`;
}

function guess(choice) {
  const a = playerA[currentStat.key];
  const b = playerB[currentStat.key];

  const correct =
    (choice === "higher" && b > a) ||
    (choice === "lower" && b < a);

  if (correct) {
    score++;
    document.getElementById("score").textContent = score;
    // carry forward the correct comparison player
    newRound(playerB);
  } else {
    endGame();
  }
}

function endGame() {
  document.getElementById("game").classList.add("hidden");
  document.getElementById("endScreen").classList.remove("hidden");

  document.getElementById("finalScore").textContent = score;
  document.getElementById("reveal").innerHTML =
    `${playerB.name} had <strong>${playerB[currentStat.key]}</strong>
     ${currentStat.label}.`;
}

newRound();

</script>

</body>
</html>
